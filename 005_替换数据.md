# 005 替换数据

接着上一期楼梯合成方块的问题。我从楼梯的外观上判断，一个楼梯普通状态下占$3 \over 4$个方块空间。所以$4$个楼梯合成$3$个方块。但是原版中楼梯合成配方并不符合这个比例。原版中$6$个方块仅仅能合成$4$个楼梯（按照我的比例应该是$8$个）。所以我需要修改原版中楼梯的合成配方，把产物楼梯增加到$8$个。

## 写一个新配方

按照我的想法写一个新的楼梯合成配方：

```json
{
  "type": "crafting_shaped",
  "pattern": [
    "#  ",
    "## ",
    "###"
  ],
  "key": {
    "#": {
      "item": "minecraft:cobblestone"
    }
  },
  "result": {
    "item": "minecraft:cobblestone_stairs",
    "count": 8
  }
}
```

其实就是把原版配方复制过来改了一下产物数量。文件名也和原版一样叫`cobblestone_stairs.json`。

## 替换

还记得我之前说过的命名空间么？在数据包的`data`文件夹下创建的文件夹都是命名空间。之前我自定义新增的配方都添加到了命名空间`txpack`中。现在我们需要用到原版专用的命名空间`minecraft`。

在`minecraft`中的`recipes`文件夹下增加和原版配方同名的配方就能把原版配方覆盖掉。

注意，我们是要把这个修改过的`cobblestone_stairs.json`文件放到自己的数据包中的`minecraft`命名空间下。不是要塞到原版的jar文件里，也不是要新建一个名为`minecraft`的新数据包。

## 删除原版配方

如果你用于替换原版的文件是一个啥都没写（光有文件名）的空文件。那么就相当于把原版的这个配方删除掉了。

如果你要大规模删除原版的配方，也可以考虑在游戏内用`datapack`命令把`vanilla`数据包`disable`掉。然后把希望保留的配方复制到你的数据包里。

## 加载顺序

除了替换`minecraft`命名空间中的数据。你也可以替换其他命名空间中的数据。比如你看我的数据包中某几个配方不爽，想替换掉。只需要在你的数据包中`txpack`命名空间下写上替换用的配方就行。

当然，同时安装你的数据包和我的数据包后，究竟谁替换谁还和数据包加载顺序有关系。

数据包的加载是有顺序的。而且和资源包一样，后来居上，后加载的会覆盖之前加载的数据包的内容。默认`vanilla`是最先加载的，所以它的内容会被其他数据包替换。

使用`/datapack enable`命令在启用数据包的同时可以附加参数调整数据包加载顺序。（如果提示数据包已经启动，就先`disable`掉再用`enable`，并且`enable`的同时指定顺序。）

并且用`/datapack enable`调整过的数据包加载顺序不会随着`reload`和重新进入游戏而打乱。使用`/datapack list`查看的列表也是按照加载顺序显示的。

## 其他

本节所介绍的替换数据相关内容，不仅仅适用于合成表。
